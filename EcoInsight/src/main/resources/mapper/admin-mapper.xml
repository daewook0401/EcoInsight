<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "https://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.semi.ecoinsight.admin.model.dao.AdminMapper">

    <insert id="insertNotice" parameterType="com.semi.ecoinsight.admin.model.vo.Notice">
        INSERT
        INTO
            TB_NOTICE(
                NOTICE_TYPE_NO,
                MEMBER_NO,
                NOTICE_TITLE,
                NOTICE_CONTENT
            )
        VALUES(
            #{noticeTypeNo},
            #{memberNo},
            #{noticeTitle},
            #{noticeContent}
        )
    </insert>

    <select id="getNoticeNo" parameterType="long" resultType="long">
        SELECT
            NOTICE_NO AS noticeNo
        FROM
            TB_NOTICE
        WHERE
            MEMBER_NO = #{memberNo}
        ORDER BY
            CREATED_DATE DESC
        FETCH FIRST 1 ROWS ONLY
    </select>

</mapper>